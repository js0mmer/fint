<link rel="import" href="../../bower_components/paper-audio-player/paper-audio-player.html">

<dom-module id="music-player">
  <template>
    {{srcc}}
    <audio controls>

      <source src="{{srcc}}" type="audio/mpeg">
    Your browser does not support the audio element.
    </audio>
  <paper-audio-player src="{{srcc}}" title="{{tittle}}" color="#F05C38"></paper-audio-player>
  </template>

  <script>
    Polymer({
      is: 'music-player',
      properties: {
        srcc: {
          type: String,
          reflectToAttribute: true,

        },
        ytsrc: {
          type: String,
                reflectToAttribute: true,
              

        },
        tittle: {
          type: String,
                reflectToAttribute: true,

        },
      },
      ready: function(){
        var url = "http://localhost:8080/backend/index.php?url="+this.ytsrc;
        console.log(this.ytsrc)
        var client = new XMLHttpRequest();
    client.open('GET', url);
    client.onreadystatechange = function() {
      this.srcc = client.responseText;
      var array ={srcc: this.srcc, ytsrc: this.ytsrc, title:this.tittle};
      console.log(array);
    }
    client.send();



      },
    });
  </script>
</dom-module>
